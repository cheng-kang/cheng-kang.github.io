<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> CHENG KANG</title><meta name="description" content="A man who loves the world."><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link active">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://weibo.com/progrant" target="_blank" class="nav-list-link">WEIBO</a></li><li class="nav-list-item"><a href="https://github.com/cheng-kang" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><ul class="home post-list"><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/01/05/DanmuManager 一个简单的弹幕工具/" class="post-title-link">DanmuManager 一个简单的弹幕工具</a></h2><div class="post-time">Jan 5, 2017</div><div class="post-content"><blockquote>
<p>项目首页： <a href="https://github.com/cheng-kang/DanmuManager">DanmuManager Github Repository</a></p>
</blockquote>
<h2 id="使用方法-Usage"><a href="#使用方法-Usage" class="headerlink" title="使用方法 Usage"></a>使用方法 Usage</h2><p><code>DanmuManager</code> 和 <code>VideoDanmuManager</code> 有不同的应用场景，后者用于视频弹幕。</p>
<p>你可以运行项目中的测试，来了解二者的使用方法。<br></div><a href="/2017/01/05/DanmuManager 一个简单的弹幕工具/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/01/05/PauseableTimer 一个可暂停的计时器/" class="post-title-link">Pauseable Timer 一个可暂停的计时器</a></h2><div class="post-time">Jan 5, 2017</div><div class="post-content"><blockquote>
<p>项目主页: <a href="https://github.com/cheng-kang/PauseableTimer">PauseableTimer Github Repository</a><br>英文介绍： <a href="http://chengkang.me/2017/01/04/Pauseable%20Timer/">Pauseable Timer</a></p>
</blockquote>
<p>PauseableTimer 是一个用 Swift 写的可暂停的计时器。</p>
<p>有时候我们需要暂停计时器，但是这个功能在 Timer(Swift3) 中并没有被实现。因此，经过一些失败的尝试，我创建了这个可以暂停的计时器，希望对你也有用。</p>
<h2 id="如何使用"><a href="#如何使用" class="headerlink" title="如何使用"></a>如何使用</h2><ol>
<li><p>创建一个计时器 Timer</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">e.g.</span><br><span class="line">let timer = Timer.scheduledTimer(timeInterval: 10, target: self, selector: aSelector, userInfo: nil, repeats: true)</span><br></pre></td></tr></table></figure>
</li>
<li><p>创建一个可暂停的计时器 PauseableTimer，并将之前创建的 Timer 作为参数传入 </p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">e.g.</span><br><span class="line">let pauseableTimer = PauseableTimer(timer: timer)</span><br></pre></td></tr></table></figure>
</li>
<li><p>暂停 然后 重新开始！</p></div><a href="/2017/01/05/PauseableTimer 一个可暂停的计时器/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2017/01/04/Pauseable Timer/" class="post-title-link">Pauseable Timer</a></h2><div class="post-time">Jan 4, 2017</div><div class="post-content"><blockquote>
<p>Project Page: <a href="https://github.com/cheng-kang/PauseableTimer">PauseableTimer Github Repository</a></p>
<p>Chinese Version: <a href="http://chengkang.me/2017/01/05/PauseableTimer%20%E4%B8%80%E4%B8%AA%E5%8F%AF%E6%9A%82%E5%81%9C%E7%9A%84%E8%AE%A1%E6%97%B6%E5%99%A8/">《Pauseable Timer 一个可暂停的计时器》</a></p>
</blockquote>
<p>Pauseable Timer is a pause-able timer written in Swift.</p>
<p>There are occassions when we need timers to pause, however, this feature is not implemented in Timer(Swift3). Thus, after some failed attempts, I create this pause-able timer which hopefully could be useful to you.</p>
<h2 id="How-to-Use"><a href="#How-to-Use" class="headerlink" title="How to Use"></a>How to Use</h2><ol>
<li><p>Create a Timer</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">e.g.</span><br><span class="line">let timer = Timer.scheduledTimer(timeInterval: 10, target: self, selector: aSelector, userInfo: nil, repeats: true)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Create a Pauseable Timer and pass the timer as an argument.</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">e.g.</span><br><span class="line">let pauseableTimer = PauseableTimer(timer: timer)</span><br></pre></td></tr></table></figure>
</li>
<li><p>Pause and Resume!</p></div><a href="/2017/01/04/Pauseable Timer/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/10/04/Sublime-Text-Plugins-I-m-using/" class="post-title-link">Sublime Text Plugins I'm using</a></h2><div class="post-time">Oct 4, 2016</div><div class="post-content"><p>Here is a list of plugins I’m using:</p>
<ul>
<li><a href="https://packagecontrol.io/">Package Control</a></li>
<li><a href="http://emmet.io/">emmet</a></li>
<li><a href="http://csscomb.com/">CSScomb</a></li>
<li><a href="https://github.com/jonlabelle/Trimmer">Trimmer</a></li>
<li><a href="http://facelessuser.github.io/BracketHighlighter/">BracketHighlighter</a></li>
<li><a href="https://github.com/jdc0589/JsFormat">JSFormat</a></li>
</ul></div><a href="/2016/10/04/Sublime-Text-Plugins-I-m-using/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/07/02/my-favorite-javascript-pattern/" class="post-title-link">【译】我最喜欢的 JavaScript 设计模式</a></h2><div class="post-time">Jul 2, 2016</div><div class="post-content"><blockquote>
<p>原文链接：<a href="https://www.sitepoint.com/my-favorite-javascript-design-pattern/">My Favorite JavaScript Design Pattern</a></p>
</blockquote>
<h1 id="我最喜欢的-JavaScript-设计模式"><a href="#我最喜欢的-JavaScript-设计模式" class="headerlink" title="我最喜欢的 JavaScript 设计模式"></a>我最喜欢的 JavaScript 设计模式</h1><p>我觉得聊一下我爱用的 JavaScript 设计模式应该很有意思。我是一步一步才定下来的，经过一段时间从各种来源吸收和适应直到达到一个能提供我所需的灵活性的模式。</p>
<p>让我给你看看概览，然后再来看它是怎么形成的：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">function MyScript()&#123;&#125;</span><br><span class="line">(function()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">  var THIS = this;</span><br><span class="line"></span><br><span class="line">  function defined(x)</span><br><span class="line">  &#123;</span><br><span class="line">    return typeof x != &apos;undefined&apos;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  this.ready = false;</span><br><span class="line"></span><br><span class="line">  this.init = function(</span><br><span class="line">  &#123;</span><br><span class="line">    this.ready = true;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  this.doSomething = function()</span><br><span class="line">  &#123;</span><br><span class="line">  &#125;;   </span><br><span class="line"></span><br><span class="line">  var options = &#123;</span><br><span class="line">      x : 123,</span><br><span class="line">      y : &apos;abc&apos;</span><br><span class="line">      &#125;;</span><br><span class="line"></span><br><span class="line">  this.define = function(key, value)</span><br><span class="line">  &#123;</span><br><span class="line">    if(defined(options[key]))</span><br><span class="line">    &#123;</span><br><span class="line">      options[key] = value;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">&#125;).apply(MyScript);</span><br></pre></td></tr></table></figure></div><a href="/2016/07/02/my-favorite-javascript-pattern/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/06/28/javascript-namespace-by-michaux/" class="post-title-link">【译】JavaScript 命名空间</a></h2><div class="post-time">Jun 28, 2016</div><div class="post-content"><blockquote>
<p>原文链接：<a href="http://peter.michaux.ca/articles/javascript-namespacing">《JavaScript Namespacing》</a></p>
</blockquote>
<h1 id="JavaScript-命名空间"><a href="#JavaScript-命名空间" class="headerlink" title="JavaScript 命名空间"></a>JavaScript 命名空间</h1><p>JavaScript 中有很多可以给你的对象安全分配命名空间的方法。这篇文章讨论我见过的普遍的实践。</p>
<h2 id="前缀命名空间"><a href="#前缀命名空间" class="headerlink" title="前缀命名空间"></a>前缀命名空间</h2><p>如果命名空间的目的是避免冲突的话。下面这个系统，只要我们知道全局变量名前缀 <em>myApp_</em> 是唯一的，可以像其他系统一样避免命名空间冲突。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// add uniquely named global properties</span><br><span class="line">var myApp_sayHello = function() &#123;</span><br><span class="line">  alert(&apos;hello&apos;);</span><br><span class="line">&#125;;</span><br><span class="line">var myApp_sayGoodbye = function() &#123;</span><br><span class="line">  alert(&apos;goodbye&apos;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">// use the namespace properties</span><br><span class="line">myApp_sayHello();</span><br></pre></td></tr></table></figure>
<p>C 语言程序经常使用前缀命名空间。在 JavaScript 的世界中，你可能会碰见 Macromedia 的 MM_ 方法，例如 MM_showHideLayers。</p>
<p>我认为前缀命名空间是 JavaScript 中最清楚明白的命名空间系统。（下面的对象命名空间策略在加入了 <code>this</code> 关键字后会导致困惑。）</p>
<p>前缀命名空间的确创建了很多全局对象。这对于前缀用来避免的命名空间冲突并不是什么问题。前缀命名空间的问题是，有些网页浏览器（例如 IE6）在有很多全局对象时表现很糟糕，就我所听说。我做了一些测试并且发现有一个 comp.lang.javascript 的小线程，不过我没有就这个话题研究彻底。</p></div><a href="/2016/06/28/javascript-namespace-by-michaux/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/06/21/Namespacing in JavaScript/" class="post-title-link">【译】JavaScript 中的命名空间</a></h2><div class="post-time">Jun 21, 2016</div><div class="post-content"><blockquote>
<p>原文链接： <a href="https://javascriptweblog.wordpress.com/2010/12/07/namespacing-in-javascript/">Namespacing in JavaScript</a></p>
</blockquote>
<h1 id="JavaScript-中的命名空间"><a href="#JavaScript-中的命名空间" class="headerlink" title="JavaScript 中的命名空间"></a>JavaScript 中的命名空间</h1><p>全局变量应该由有系统范围相关性的对象们保留，并且它们的命名应该避免含糊并尽量减少命名冲突的风险。在实践中，这意味着你应该避免创建全局对象，除非它们是绝对必须的。</p>
<p>不过，恩，这些你早都知道了……</p>
<p>所以你对此是怎么做的？传统方法告诉我们，最好的消除全局策略是创建少数作为潜在模块和子系统的实际命名空间的全局对象。我将探索几种有关命名空间的方式，并以我基于 <a href="http://www.brothercake.com/">James Edwards</a> 最近的一篇文章得到的一个优雅、安全和灵活的解决方案结束。<br></div><a href="/2016/06/21/Namespacing in JavaScript/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/05/15/Swift2 中的错误处理：try，catch，do 以及 throw/" class="post-title-link">【译】Swift2 中的错误处理：try，catch，do 以及 throw</a></h2><div class="post-time">May 15, 2016</div><div class="post-content"><blockquote>
<p>原文链接：<a href="https://www.hackingwithswift.com/new-syntax-swift-2-error-handling-try-catch">《Error handling in Swift 2: try, catch, do and throw》</a></p>
</blockquote>
<p>如果你已经看了我那篇讨论 Swift2 中所有新东西的文章并且想了解更多关于新的错误处理系统的东西，这篇文章非常合适。简单来说，它已经被完全重写得现代化，快速和安全，并且除非你只使用 iOS API 的一小部分的话，你需要花些时间来学习一下。</p>
<p>如果你喜欢这篇文章，你可能也会想读读这些：</p>
<ul>
<li><a href="https://www.hackingwithswift.com/swift2-2">What’s new in Swift 2.2?</a></li>
<li><a href="https://www.hackingwithswift.com/ios9">What’s new in iOS 9?</a></li>
<li><a href="https://www.hackingwithswift.com/">My free Swift tutorial series</a></li>
<li><a href="https://gum.co/proswift">Pre-order Pro Swift for just $20!</a></li>
</ul>
<h3 id="过去是怎样：NSError-和-NSErrorPointer"><a href="#过去是怎样：NSError-和-NSErrorPointer" class="headerlink" title="过去是怎样：NSError 和 NSErrorPointer"></a>过去是怎样：NSError 和 NSErrorPointer</h3><p>用于处理错误的历史方法是通过使用一个作为指针传递的 NSError 对象。在 Objective-C 中，它是 NSError*，但在 Swift 中你会看到 NSError？ 和 NSErrorPointer。</p></div><a href="/2016/05/15/Swift2 中的错误处理：try，catch，do 以及 throw/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/04/13/UICollectionView 总结/" class="post-title-link">UICollectionView 总结</a></h2><div class="post-time">Apr 13, 2016</div><div class="post-content"><blockquote>
<p>项目源码：<a href="https://github.com/cheng-kang/iosDev/tree/master/FenghuangXinwen">模拟凤凰新闻 Github 仓库</a></p>
</blockquote>
<h3 id="引语"><a href="#引语" class="headerlink" title="引语"></a>引语</h3><p>昨天给自己布置这个作业之后，看完文档实践的过程中发现一片很棒的英文总结，于是翻译了一下。这篇总结会简单总结一下我翻译的那篇文章里的内容，以及基于模拟凤凰新闻客户端部分页面的一些 UICollectionView 使用总结。</p>
<p>文章主要是总结一些需要注意的内容，具体请看源码。实现的内容及对应文件包括：</p>
<ul>
<li>同一个 section 内拖动 cell<ul>
<li>直接使用 UICollectionViewController（<code>TestCollectionViewController.swift</code>）</li>
<li>在 UIViewController 中使用 UICollectionView（<code>EditTabsViewController.swift</code>）</li>
</ul>
</li>
<li>不同 section 间拖动 cell（<code>Test.swift</code>）</li>
<li>不同 section 间点击移动 cell（<code>TabsViewController.swift</code>）</li>
<li>点击移除 cell（<code>EditTabsViewController.swift</code>）</li>
</ul>
<p>主要内容如图：</p>
<p><img src="http://7u2sl0.com1.z0.glb.clouddn.com/ios_fenghuangxinwen-2.gif" alt=""></p>
<p><img src="http://7u2sl0.com1.z0.glb.clouddn.com/ios_fenghuangxinwen-3.gif" alt=""></p></div><a href="/2016/04/13/UICollectionView 总结/" class="read-more">...more</a></article></li><li class="post-list-item"><article class="post-block"><h2 class="post-title"><a href="/2016/04/12/【译】UICollectionView 轻松重排/" class="post-title-link">【译】UICollectionView 轻松重排</a></h2><div class="post-time">Apr 12, 2016</div><div class="post-content"><blockquote>
<p>原文链接：<a href="http://nshint.io/blog/2015/07/16/uicollectionviews-now-have-easy-reordering/">UICollectionViews Now Have Easy Reordering</a></p>
<p>原本打算总结一下 UICollectionView 的一些用法，看到一篇比较好的文章，所以直接翻译了。翻译得比较生硬，见谅。</p>
</blockquote>
<p>我超喜欢<code>UICollectionView</code>。相比<code>UITableView</code>，它容易自定义得多。现在我使用甚至使用 collection view 比使用 table view 还要频繁了。在 iOS9 中，它开始支持使用起来很简单的重排。在之前是不可能直接重排的，而且实现起来很麻烦。让我们一起来看看 API。你可以在 <a href="https://github.com/nshintio/uicollectionview-reordering">Github</a> 上找到对应的 Xcode 项目。</p>
<p>最简单的实现重排是通过使用<code>UICollectionViewController</code>。它现在有一个新的属性叫做<code>installsStandardGestureForInteractiveMovement</code>，作用是添加手势（gestures）来重排 cells。这个属性默认值为<code>True</code>，这意味着要使用它我们只需要重写一个方法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">func collectionView(collectionView: UICollectionView,</span><br><span class="line">    moveItemAtIndexPath sourceIndexPath: NSIndexPath,</span><br><span class="line">    toIndexPath destinationIndexPath: NSIndexPath) &#123;</span><br><span class="line">    // move your data order</span><br><span class="line">    // 可以留空</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>当前的 collection view 判定 items 可以被移动，因为<code>moveItemAtIndexPath</code>被重写了。</p>
<p><img src="http://nshint.io/images/uicollectionview-reordering/1.gif" alt=""></p></div><a href="/2016/04/12/【译】UICollectionView 轻松重排/" class="read-more">...more</a></article></li></ul></section><footer><div class="paginator"><a href="/page/2/" class="next">NEXT</a></div><div class="copyright"><p>© 2016 - 2017 <a href="http://cheng-kang.github.io">程康·Ant</a>, unless otherwise noted.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-75274957-1",'auto');ga('send','pageview');</script><script>var _hmt = _hmt || [];(function() {var hm = document.createElement("script");hm.src = "//hm.baidu.com/hm.js?ae1a81e6256aab436489ff79379d128d";var s = document.getElementsByTagName("script")[0]; s.parentNode.insertBefore(hm, s);})();</script><script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script></body></html>